

<h2>Add a payment</h2>

<form class="form-horizontal" ng-init="initializeForm()">

	<fieldset>

		<field-row element-label="Payment Type" element-id="payment_type_id">
			<select id="payment_type_id" ng-model="payment.paymentType" ng-options="type.name for type in paymentTypes" class="form-control" required>
				<option value="">-- choose type --</option>
			</select>
		</field-row>

		<div ng-controller="UsersController" ng-init="retrieveUsers()">
			<div user-search="payer" label="Payer"
				ng-click="showUserSearch('Payer')" ng-model="payment.payee.id"></div>
		</div>

		<div ng-controller="UsersController" ng-init="retrieveUsers()">
			<div user-search="payee" label="Payee"
				ng-click="showUserSearch('Payee')" ng-model="payment.payer.id"></div>
		</div>

		<field-row element-label="Account" element-id="payee_account">
			<input id="payee_account" class="form-control" ng-model="payment.payeeAccount" required>
		</field-row>
		
		<field-row element-label="Start Period" element-id="start_period">
			<date-picker element-label="Start Period" element-id="start_period" ng-model="payment.startPeriod" ng-change="updateEndPeriod()">
			</date-picker>
		</field-row>
		
		<field-row element-label="End Period" element-id="end_period">
			<date-picker element-label="End Period" element-id="end_period" ng-model="payment.endPeriod">
			</date-picker>
		</field-row>
		
		<field-row element-label="Paid Date" element-id="paid_date">
			<date-picker element-label="Paid Date" element-id="paid_date" ng-model="payment.paidDate">
			</date-picker>
		</field-row>
		
		<field-row element-label="Description" element-id="description">
			<input id="description" class="form-control" ng-model="payment.description">
		</field-row>
		
		<field-row element-label="Amount" element-id="amount">
			<input id="amount" class="form-control" required ng-model="payment.amount">
		</field-row>
		
		<field-row element-label="Reference" element-id="reference">
			<input id="reference" class="form-control" required ng-model="payment.reference">
		</field-row>
		
		<field-row element-label="Remarks" element-id="remarks">
			<input id="remarks" class="form-control" ng-model="payment.remark">
		</field-row>
		
		

	</fieldset>

	<div class="form-actions">
		<button ng-click="save()">
			<span class="glyphicon glyphicon-plus"></span>Add
		</button>
	</div>

</form>
